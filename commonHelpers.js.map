{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nfunction getPictures(search){\n    return fetch(`https://pixabay.com/api/?key=44929764-df5ad93c9d917838a072df550&q=${search}&image_type=photo&orientation=horizontal&safesearch=true`).then((res)=> {\n        //console.log(res);\n        if (!res.ok) {\n            throw new Error(res.status);\n        }\n        return res.json();\n    });\n};\n//const arr=[];\nexport function masPictures(search) {\n    return getPictures(search).then(data => {\n        const arr = data.hits.map((rez) => {\n            const qaz = { webformatURL: rez.webformatURL, largeImageURL: rez.largeImageURL, tags: rez.tags, likes: rez.likes, views: rez.views, comments: rez.comments, downloads: rez.downloads, };\n            return qaz;\n        });\n        if (data.hits[0] == undefined) {\n            iziToast.show({\n                color: '#ef4040',\n                position: 'topRight',\n                title: 'Error',\n                message: 'Sorry, there are no images matching your search query. Please try again!'\n            })\n            return Error;\n        }\n        return arr;\n    }).catch(err => iziToast.show({\n                    color: '#ef4040',\n                    position: 'topRight',\n                    title: 'Error',\n                    message: err\n                }))\n}\n\n","import SimpleLightbox from \"simplelightbox\";\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport { masPictures } from \"./pixabay-api\";\n\nfunction gallery(arr) {\n    let code = '';\n    arr.forEach(elm => {\n        code += `<li class=\"gallery-item\">\n            <a class=\"gallery-link\" href=\"${elm.largeImageURL}\">\n                <img class=\"gallery-image\" src=\"${elm.webformatURL}\" alt=\"${elm.tags}\"/>\n            </a>\n            <ul class=\"gallery-ul\">\n                <li class=\"gallery-li\">\n                    <h3 class=\"gallery-title\">Likes</h3>\n                    <p class=\"gallery-par\">${elm.likes}</p>\n                </li>\n                <li class=\"gallery-li\">\n                    <h3 class=\"gallery-title\">Views</h3>\n                    <p class=\"gallery-par\">${elm.views}</p>\n                </li>\n                <li class=\"gallery-li\">\n                    <h3 class=\"gallery-title\">Comments</h3>\n                    <p class=\"gallery-par\">${elm.comments}</p>\n                </li>\n                <li class=\"gallery-li\">\n                    <h3 class=\"gallery-title\">Downloads</h3>\n                    <p class=\"gallery-par\">${elm.downloads}</p>\n                </li>\n            </ul>\n        </li>`;\n    });\n    const ul = document.querySelector('.gallery');\n    ul.textContent = '';\n    ul.insertAdjacentHTML(\"beforeend\", code);\n    const lightbox = new SimpleLightbox('.gallery a', { captionDelay: 250, captionPosition:'bottom', captionsData: \"alt\" });\n}\nexport function zapit(evt) {\n    const ul = document.querySelector('.gallery');\n    ul.insertAdjacentHTML(\"afterbegin\", '<div class=\"loader\"></div>');\n    //ul.textContent = '<div class=\"loader\"></div>';\n    masPictures(evt).then((res) => gallery(res)).catch((err) => {ul.textContent = ''; console.error(err) });\n}\nexport function delite() {\n    const ul = document.querySelector('.gallery');\n    ul.textContent = '';\n    new SimpleLightbox('.gallery a', { captionDelay: 250, captionPosition: 'bottom', captionsData: \"alt\" }).refresh();\n}","import { zapit } from \"./js/render-functions\";\nimport { delite } from \"./js/render-functions\";\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nconst form = document.querySelector('form');\nform.addEventListener('submit', submit);\nfunction submit(evt) {\n    evt.preventDefault();\n    delite();\n    if (evt.currentTarget[0].value == '') {\n        iziToast.show({\n            color: '#ef4040',\n            position: 'topRight',\n            title: 'Error',\n            message: 'Sorry, please enter the correct value!'\n        })\n        return;\n    }\n    zapit(evt.currentTarget[0].value);\n}"],"names":["getPictures","search","res","masPictures","data","arr","rez","iziToast","err","gallery","code","elm","ul","SimpleLightbox","zapit","evt","delite","form","submit"],"mappings":"wvBAGA,SAASA,EAAYC,EAAO,CACxB,OAAO,MAAM,qEAAqEA,CAAM,0DAA0D,EAAE,KAAMC,GAAO,CAE7J,GAAI,CAACA,EAAI,GACL,MAAM,IAAI,MAAMA,EAAI,MAAM,EAE9B,OAAOA,EAAI,MACnB,CAAK,CACL,CAEO,SAASC,EAAYF,EAAQ,CAChC,OAAOD,EAAYC,CAAM,EAAE,KAAKG,GAAQ,CACpC,MAAMC,EAAMD,EAAK,KAAK,IAAKE,IACX,CAAE,aAAcA,EAAI,aAAc,cAAeA,EAAI,cAAe,KAAMA,EAAI,KAAM,MAAOA,EAAI,MAAO,MAAOA,EAAI,MAAO,SAAUA,EAAI,SAAU,UAAWA,EAAI,SAAS,EAEvL,EACD,OAAIF,EAAK,KAAK,CAAC,GAAK,MAChBG,EAAS,KAAK,CACV,MAAO,UACP,SAAU,WACV,MAAO,QACP,QAAS,0EACzB,CAAa,EACM,OAEJF,CACV,CAAA,EAAE,MAAMG,GAAOD,EAAS,KAAK,CACd,MAAO,UACP,SAAU,WACV,MAAO,QACP,QAASC,CAC7B,CAAiB,CAAC,CAClB,CC/BA,SAASC,EAAQJ,EAAK,CAClB,IAAIK,EAAO,GACXL,EAAI,QAAQM,GAAO,CACfD,GAAQ;AAAA,4CAC4BC,EAAI,aAAa;AAAA,kDACXA,EAAI,YAAY,UAAUA,EAAI,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA,6CAKvCA,EAAI,KAAK;AAAA;AAAA;AAAA;AAAA,6CAITA,EAAI,KAAK;AAAA;AAAA;AAAA;AAAA,6CAITA,EAAI,QAAQ;AAAA;AAAA;AAAA;AAAA,6CAIZA,EAAI,SAAS;AAAA;AAAA;AAAA,cAI1D,CAAK,EACD,MAAMC,EAAK,SAAS,cAAc,UAAU,EAC5CA,EAAG,YAAc,GACjBA,EAAG,mBAAmB,YAAaF,CAAI,EACtB,IAAIG,EAAe,aAAc,CAAE,aAAc,IAAK,gBAAgB,SAAU,aAAc,MAAO,CAC1H,CACO,SAASC,EAAMC,EAAK,CACvB,MAAMH,EAAK,SAAS,cAAc,UAAU,EAC5CA,EAAG,mBAAmB,aAAc,4BAA4B,EAEhET,EAAYY,CAAG,EAAE,KAAMb,GAAQO,EAAQP,CAAG,CAAC,EAAE,MAAOM,GAAQ,CAACI,EAAG,YAAc,GAAI,QAAQ,MAAMJ,CAAG,CAAC,CAAE,CAC1G,CACO,SAASQ,GAAS,CACrB,MAAMJ,EAAK,SAAS,cAAc,UAAU,EAC5CA,EAAG,YAAc,GACjB,IAAIC,EAAe,aAAc,CAAE,aAAc,IAAK,gBAAiB,SAAU,aAAc,MAAO,EAAE,QAAO,CACnH,CC1CA,MAAMI,EAAO,SAAS,cAAc,MAAM,EAC1CA,EAAK,iBAAiB,SAAUC,CAAM,EACtC,SAASA,EAAOH,EAAK,CAGjB,GAFAA,EAAI,eAAc,EAClBC,IACID,EAAI,cAAc,CAAC,EAAE,OAAS,GAAI,CAClCR,EAAS,KAAK,CACV,MAAO,UACP,SAAU,WACV,MAAO,QACP,QAAS,wCACrB,CAAS,EACD,MACH,CACDO,EAAMC,EAAI,cAAc,CAAC,EAAE,KAAK,CACpC"}