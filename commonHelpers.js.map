{"version":3,"file":"commonHelpers.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["import SimpleLightbox from \"simplelightbox\";\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n//import { masPictures } from \"./pixabay-api\";\n\nexport function gallery(arr) {\n    let code = '';\n    arr.forEach(elm => {\n        code += `<li class=\"gallery-item\">\n            <a class=\"gallery-link\" href=\"${elm.largeImageURL}\">\n                <img class=\"gallery-image\" src=\"${elm.webformatURL}\" alt=\"${elm.tags}\"/>\n            </a>\n            <ul class=\"gallery-ul\">\n                <li class=\"gallery-li\">\n                    <h3 class=\"gallery-title\">Likes</h3>\n                    <p class=\"gallery-par\">${elm.likes}</p>\n                </li>\n                <li class=\"gallery-li\">\n                    <h3 class=\"gallery-title\">Views</h3>\n                    <p class=\"gallery-par\">${elm.views}</p>\n                </li>\n                <li class=\"gallery-li\">\n                    <h3 class=\"gallery-title\">Comments</h3>\n                    <p class=\"gallery-par\">${elm.comments}</p>\n                </li>\n                <li class=\"gallery-li\">\n                    <h3 class=\"gallery-title\">Downloads</h3>\n                    <p class=\"gallery-par\">${elm.downloads}</p>\n                </li>\n            </ul>\n        </li>`;\n    });\n    const ul = document.querySelector('.gallery');\n    ul.textContent = '';\n    ul.insertAdjacentHTML(\"beforeend\", code);\n    const lightbox = new SimpleLightbox('.gallery a', { captionDelay: 250, captionPosition:'bottom', captionsData: \"alt\" });\n}\nexport function zapit() {\n    const ul = document.querySelector('.gallery');\n    ul.insertAdjacentHTML(\"afterbegin\", '<div class=\"loader\"></div>');\n    //gallery(evt);\n    //masPictures(evt).then((res) => gallery(res)).catch((err) => {ul.textContent = ''; console.error(err) });\n}\nexport function delite() {\n    const ul = document.querySelector('.gallery');\n    ul.textContent = '';\n    new SimpleLightbox('.gallery a', { captionDelay: 250, captionPosition: 'bottom', captionsData: \"alt\" }).refresh();\n}","import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nexport function getPictures(search){\n    return fetch(`https://pixabay.com/api/?key=44929764-df5ad93c9d917838a072df550&q=${search}&image_type=photo&orientation=horizontal&safesearch=true`).then((res)=> {\n        //console.log(res);\n        if (!res.ok) {\n            throw new Error(res.status);\n        }\n        return res.json();\n    });\n};\n//const arr=[];\n//export function masPictures(search) {\n    //return getPictures(search).then(data => {\n        //const arr = data.hits.map((rez) => {\n            //const qaz = { webformatURL: rez.webformatURL, largeImageURL: rez.largeImageURL, tags: rez.tags, likes: rez.likes, views: rez.views, comments: rez.comments, downloads: rez.downloads, };\n            //return qaz;\n        //});\n        //if (data.hits[0] == undefined) {\n            //iziToast.show({\n                //color: '#ef4040',\n                //position: 'topRight',\n                //title: 'Error',\n                //message: 'Sorry, there are no images matching your search query. Please try again!'\n            //})\n            //return Error;\n        //}\n        //return arr;\n    //}).catch(err => iziToast.show({\n                    //color: '#ef4040',\n                    //position: 'topRight',\n                    //title: 'Error',\n                    //message: err\n                //}))\n//}\n\n","import { zapit } from \"./js/render-functions\";\nimport { delite } from \"./js/render-functions\";\nimport { gallery } from \"./js/render-functions\";\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport { getPictures } from \"./js/pixabay-api\";\nconst form = document.querySelector('form');\nform.addEventListener('submit', submit);\nfunction submit(evt) {\n    evt.preventDefault();\n    delite();\n    //console.log(evt.target.elements.text.value);\n    if (evt.target.elements.text.value == '') {\n        iziToast.show({\n            color: '#ef4040',\n            position: 'topRight',\n            title: 'Error',\n            message: 'Sorry, please enter the correct value!'\n        })\n        return;\n    }\n    zapit();\n    //zapit(evt.currentTarget[0].value);\n    masPictures(evt.target.elements.text.value).then((res) => { gallery(res) }).catch((err) => {delite(); console.error(err) });\n}\nfunction masPictures(search) {\n    return getPictures(search).then(data => {\n        const arr = data.hits.map((rez) => {\n            const qaz = { webformatURL: rez.webformatURL, largeImageURL: rez.largeImageURL, tags: rez.tags, likes: rez.likes, views: rez.views, comments: rez.comments, downloads: rez.downloads, };\n            return qaz;\n        });\n        if (data.hits[0] == undefined) {\n            iziToast.show({\n                color: '#ef4040',\n                position: 'topRight',\n                title: 'Error',\n                message: 'Sorry, there are no images matching your search query. Please try again!'\n            })\n            return Error;\n        }\n        return arr;\n    }).catch(err => iziToast.show({\n                    color: '#ef4040',\n                    position: 'topRight',\n                    title: 'Error',\n                    message: err\n                }))\n}"],"names":["gallery","arr","code","elm","ul","SimpleLightbox","zapit","delite","getPictures","search","res","form","submit","evt","iziToast","masPictures","err","data","rez"],"mappings":"wvBAIO,SAASA,EAAQC,EAAK,CACzB,IAAIC,EAAO,GACXD,EAAI,QAAQE,GAAO,CACfD,GAAQ;AAAA,4CAC4BC,EAAI,aAAa;AAAA,kDACXA,EAAI,YAAY,UAAUA,EAAI,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA,6CAKvCA,EAAI,KAAK;AAAA;AAAA;AAAA;AAAA,6CAITA,EAAI,KAAK;AAAA;AAAA;AAAA;AAAA,6CAITA,EAAI,QAAQ;AAAA;AAAA;AAAA;AAAA,6CAIZA,EAAI,SAAS;AAAA;AAAA;AAAA,cAI1D,CAAK,EACD,MAAMC,EAAK,SAAS,cAAc,UAAU,EAC5CA,EAAG,YAAc,GACjBA,EAAG,mBAAmB,YAAaF,CAAI,EACtB,IAAIG,EAAe,aAAc,CAAE,aAAc,IAAK,gBAAgB,SAAU,aAAc,MAAO,CAC1H,CACO,SAASC,GAAQ,CACT,SAAS,cAAc,UAAU,EACzC,mBAAmB,aAAc,4BAA4B,CAGpE,CACO,SAASC,GAAS,CACrB,MAAMH,EAAK,SAAS,cAAc,UAAU,EAC5CA,EAAG,YAAc,GACjB,IAAIC,EAAe,aAAc,CAAE,aAAc,IAAK,gBAAiB,SAAU,aAAc,MAAO,EAAE,QAAO,CACnH,CC3CO,SAASG,EAAYC,EAAO,CAC/B,OAAO,MAAM,qEAAqEA,CAAM,0DAA0D,EAAE,KAAMC,GAAO,CAE7J,GAAI,CAACA,EAAI,GACL,MAAM,IAAI,MAAMA,EAAI,MAAM,EAE9B,OAAOA,EAAI,MACnB,CAAK,CACL,CCLA,MAAMC,EAAO,SAAS,cAAc,MAAM,EAC1CA,EAAK,iBAAiB,SAAUC,CAAM,EACtC,SAASA,EAAOC,EAAK,CAIjB,GAHAA,EAAI,eAAc,EAClBN,IAEIM,EAAI,OAAO,SAAS,KAAK,OAAS,GAAI,CACtCC,EAAS,KAAK,CACV,MAAO,UACP,SAAU,WACV,MAAO,QACP,QAAS,wCACrB,CAAS,EACD,MACH,CACDR,IAEAS,EAAYF,EAAI,OAAO,SAAS,KAAK,KAAK,EAAE,KAAMH,GAAQ,CAAEV,EAAQU,CAAG,CAAG,CAAA,EAAE,MAAOM,GAAQ,CAACT,EAAM,EAAI,QAAQ,MAAMS,CAAG,CAAC,CAAE,CAC9H,CACA,SAASD,EAAYN,EAAQ,CACzB,OAAOD,EAAYC,CAAM,EAAE,KAAKQ,GAAQ,CACpC,MAAMhB,EAAMgB,EAAK,KAAK,IAAKC,IACX,CAAE,aAAcA,EAAI,aAAc,cAAeA,EAAI,cAAe,KAAMA,EAAI,KAAM,MAAOA,EAAI,MAAO,MAAOA,EAAI,MAAO,SAAUA,EAAI,SAAU,UAAWA,EAAI,SAAS,EAEvL,EACD,OAAID,EAAK,KAAK,CAAC,GAAK,MAChBH,EAAS,KAAK,CACV,MAAO,UACP,SAAU,WACV,MAAO,QACP,QAAS,0EACzB,CAAa,EACM,OAEJb,CACV,CAAA,EAAE,MAAMe,GAAOF,EAAS,KAAK,CACd,MAAO,UACP,SAAU,WACV,MAAO,QACP,QAASE,CAC7B,CAAiB,CAAC,CAClB"}